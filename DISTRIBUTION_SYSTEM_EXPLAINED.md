# Ø´Ø±Ø­ Ù†Ø¸Ø§Ù… Ø§Ù„ØªÙˆØ²ÙŠØ¹ ÙÙŠ QSR System ðŸ“Š

## ðŸŽ¯ Ø§Ù„ÙÙƒØ±Ø© Ø§Ù„Ø£Ø³Ø§Ø³ÙŠØ©

Ø§Ù„Ù†Ø¸Ø§Ù… ÙŠÙˆØ²Ø¹ Ø§Ù„Ø²ÙˆØ§Ø± Ø¹Ù„Ù‰ **11 ØµÙØ­Ø© Ù…Ø¨ÙŠØ¹Ø§Øª** (sales1 - sales11) Ø¨Ø·Ø±ÙŠÙ‚Ø© **Ø°ÙƒÙŠØ© ÙˆÙ…Ø±Ø¬Ø­Ø©** Ø­Ø³Ø¨ Ù…ØµØ¯Ø± Ø§Ù„Ø²Ø§Ø¦Ø±.

---

## ðŸ”„ ÙƒÙŠÙ ÙŠØ¹Ù…Ù„ Ø§Ù„ØªÙˆØ²ÙŠØ¹ØŸ

### 1ï¸âƒ£ **Ù†Ù‚Ø·Ø© Ø§Ù„Ø¯Ø®ÙˆÙ„: `/sales`**

Ø¹Ù†Ø¯Ù…Ø§ ÙŠØ²ÙˆØ± Ø´Ø®Øµ Ø§Ù„Ø±Ø§Ø¨Ø· `/sales`:
```
https://yoursite.com/sales
         â†“
   ÙŠØªÙ… Ø§Ù„ØªØ­Ù„ÙŠÙ„ ÙˆØ§Ù„ØªÙˆØ¬ÙŠÙ‡ Ø§Ù„ØªÙ„Ù‚Ø§Ø¦ÙŠ
         â†“
https://yoursite.com/sales3 (Ù…Ø«Ù„Ø§Ù‹)
```

---

### 2ï¸âƒ£ **Ø§Ù„ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ø°ÙƒÙŠ Ù„Ù„Ù…ØµØ¯Ø±**

Ø§Ù„Ù†Ø¸Ø§Ù… ÙŠÙƒØªØ´Ù **Ù…Ù† Ø£ÙŠÙ† Ø¬Ø§Ø¡ Ø§Ù„Ø²Ø§Ø¦Ø±**:

#### ðŸ”´ Ø²Ø§Ø¦Ø± Ù…Ù† Google:
```javascript
// ÙŠØ¨Ø­Ø« Ø¹Ù† Ù‡Ø°Ù‡ Ø§Ù„Ø¹Ù„Ø§Ù…Ø§Øª ÙÙŠ referer:
- google.com
- googleadservices.com
- g.doubleclick.net
- googlesyndication.com
- gclid= (Google Click ID)
```

#### ðŸŸ¢ Ø²Ø§Ø¦Ø± Ù…Ù† Ù…ØµØ§Ø¯Ø± Ø£Ø®Ø±Ù‰:
```
- Facebook
- Instagram
- TikTok
- Ù…Ø¨Ø§Ø´Ø± (ÙƒØªØ¨ Ø§Ù„Ø±Ø§Ø¨Ø· Ø¨Ù†ÙØ³Ù‡)
- Ø£ÙŠ Ù…ØµØ¯Ø± Ø¢Ø®Ø±
```

---

### 3ï¸âƒ£ **Ø§Ù„ØªÙˆØ²ÙŠØ¹ Ø§Ù„Ù…Ø±Ø¬Ø­ (Weighted Distribution)**

#### Ø§Ù„Ù†Ø¸Ø§Ù… Ù„Ø¯ÙŠÙ‡ **Ø¬Ø¯ÙˆÙ„ÙŠÙ† Ù…Ù†ÙØµÙ„ÙŠÙ†**:

**Ø¬Ø¯ÙˆÙ„ Google:**
```javascript
[
  { path: '/sales1', weight: 9.09 },  // 9.09%
  { path: '/sales2', weight: 9.09 },  // 9.09%
  { path: '/sales3', weight: 9.09 },  // 9.09%
  // ... Ø¥Ù„Ø®
  { path: '/sales11', weight: 9.01 }, // 9.01%
]
// Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ: 100%
```

**Ø¬Ø¯ÙˆÙ„ Ø§Ù„Ù…ØµØ§Ø¯Ø± Ø§Ù„Ø£Ø®Ø±Ù‰:**
```javascript
[
  { path: '/sales1', weight: 9.09 },  // 9.09%
  { path: '/sales2', weight: 9.09 },  // 9.09%
  // ... Ù†ÙØ³ Ø§Ù„ØªÙˆØ²ÙŠØ¹
]
```

---

### 4ï¸âƒ£ **Ø®ÙˆØ§Ø±Ø²Ù…ÙŠØ© Ø§Ù„Ø§Ø®ØªÙŠØ§Ø±**

```typescript
function pickWeighted(items, random) {
  const total = items.reduce((sum, item) => sum + item.weight, 0) // = 100
  let cursor = random * total  // Ù…Ø«Ù„Ø§Ù‹: 0.7234 * 100 = 72.34
  
  for (const item of items) {
    cursor -= item.weight
    if (cursor <= 0) return item
  }
}
```

#### Ù…Ø«Ø§Ù„ Ø¹Ù…Ù„ÙŠ:
```
Random = 0.7234
cursor = 72.34

- sales1: cursor = 72.34 - 9.09 = 63.25 âŒ
- sales2: cursor = 63.25 - 9.09 = 54.16 âŒ
- sales3: cursor = 54.16 - 9.09 = 45.07 âŒ
- sales4: cursor = 45.07 - 9.09 = 35.98 âŒ
- sales5: cursor = 35.98 - 9.09 = 26.89 âŒ
- sales6: cursor = 26.89 - 9.09 = 17.80 âŒ
- sales7: cursor = 17.80 - 9.09 = 8.71 âŒ
- sales8: cursor = 8.71 - 9.09 = -0.38 âœ…

â†’ ÙŠØ®ØªØ§Ø± sales8
```

---

### 5ï¸âƒ£ **Ø§Ù„Ø«Ø¨Ø§Øª Ø¹Ø¨Ø± Cookie**

```javascript
// Cookie: td_bucket
// Ø§Ù„Ø¹Ù…Ø±: 7 Ø£ÙŠØ§Ù…

// Ø£ÙˆÙ„ Ø²ÙŠØ§Ø±Ø©:
random = Math.random()  // Ù…Ø«Ù„Ø§Ù‹ 0.3456
cookie = "td_bucket=0.3456"
â†’ ÙŠØ°Ù‡Ø¨ Ù„Ù€ sales4

// Ø§Ù„Ø²ÙŠØ§Ø±Ø© Ø§Ù„Ø«Ø§Ù†ÙŠØ© (Ø®Ù„Ø§Ù„ 7 Ø£ÙŠØ§Ù…):
random = 0.3456  // Ù†ÙØ³ Ø§Ù„Ù‚ÙŠÙ…Ø© Ù…Ù† Ø§Ù„ÙƒÙˆÙƒÙŠ
â†’ ÙŠØ°Ù‡Ø¨ Ù„Ù€ sales4 Ù…Ø±Ø© Ø£Ø®Ø±Ù‰ âœ…
```

**Ø§Ù„ÙØ§Ø¦Ø¯Ø©:**
- Ù†ÙØ³ Ø§Ù„Ø²Ø§Ø¦Ø± ÙŠØ±Ù‰ Ø¯Ø§Ø¦Ù…Ø§Ù‹ **Ù†ÙØ³ Ø§Ù„ØµÙØ­Ø©**
- ØªØ¬Ø±Ø¨Ø© Ù…ØªØ³Ù‚Ø©
- ØªØªØ¨Ø¹ Ø£ÙØ¶Ù„

---

## âš™ï¸ Ø¥Ø¯Ø§Ø±Ø© Ù‚ÙˆØ§Ø¹Ø¯ Ø§Ù„ØªÙˆØ²ÙŠØ¹

### ØµÙØ­Ø© `/dashboard/distribution`

ÙŠÙ…ÙƒÙ† ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ù†Ø³Ø¨ Ù…Ù† Ù„ÙˆØ­Ø© Ø§Ù„ØªØ­ÙƒÙ…:

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Ø§Ù„ØµÙØ­Ø©  â”‚ Google % â”‚ Other % â”‚ Ø§Ù„Ø­Ø§Ù„Ø©   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ sales1  â”‚   15.0   â”‚  10.0   â”‚  Ù†Ø´Ø·     â”‚
â”‚ sales2  â”‚   20.0   â”‚  15.0   â”‚  Ù†Ø´Ø·     â”‚
â”‚ sales3  â”‚   10.0   â”‚  10.0   â”‚  Ù†Ø´Ø·     â”‚
â”‚ sales4  â”‚    5.0   â”‚   5.0   â”‚  Ù†Ø´Ø·     â”‚
â”‚ sales5  â”‚   15.0   â”‚  20.0   â”‚  Ù†Ø´Ø·     â”‚
â”‚ sales6  â”‚   10.0   â”‚  10.0   â”‚  Ù†Ø´Ø·     â”‚
â”‚ sales7  â”‚    0.0   â”‚   0.0   â”‚  Ù…Ø¹Ø·Ù„   â”‚
â”‚ sales8  â”‚   10.0   â”‚  10.0   â”‚  Ù†Ø´Ø·     â”‚
â”‚ sales9  â”‚    5.0   â”‚   5.0   â”‚  Ù†Ø´Ø·     â”‚
â”‚ sales10 â”‚    5.0   â”‚   7.5   â”‚  Ù†Ø´Ø·     â”‚
â”‚ sales11 â”‚    5.0   â”‚   7.5   â”‚  Ù†Ø´Ø·     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ â”‚  100.0   â”‚ 100.0   â”‚          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Ù…Ø«Ø§Ù„: ØªÙˆØ²ÙŠØ¹ Ù…Ø®ØµØµ

```javascript
// Ø¥Ø°Ø§ Ø£Ø±Ø¯Øª Ø£Ù† sales1 ØªØ­ØµÙ„ Ø¹Ù„Ù‰ Ø²ÙˆØ§Ø± Google Ø£ÙƒØ«Ø±:
GOOGLE_WEIGHTED = [
  { path: '/sales1', weight: 25.0 },  // 25% Ù…Ù† Ø²ÙˆØ§Ø± Google âœ…
  { path: '/sales2', weight: 15.0 },
  { path: '/sales3', weight: 10.0 },
  // ... Ø¨Ø§Ù‚ÙŠ Ø§Ù„ØµÙØ­Ø§Øª ØªÙ‚Ø³Ù… Ø§Ù„Ù€ 60% Ø§Ù„Ù…ØªØ¨Ù‚ÙŠØ©
]

// Ø¨ÙŠÙ†Ù…Ø§ Ø§Ù„Ù…ØµØ§Ø¯Ø± Ø§Ù„Ø£Ø®Ø±Ù‰ Ù…ØªØ³Ø§ÙˆÙŠØ©:
OTHER_WEIGHTED = [
  { path: '/sales1', weight: 9.09 },
  { path: '/sales2', weight: 9.09 },
  // ... ØªÙˆØ²ÙŠØ¹ Ù…ØªØ³Ø§ÙˆÙŠ
]
```

---

## ðŸ“Š Ø£Ù…Ø«Ù„Ø© Ø¹Ù…Ù„ÙŠØ©

### Ù…Ø«Ø§Ù„ 1: Ø²Ø§Ø¦Ø± Ù…Ù† Google Ads
```
1. Ø§Ù„Ø²Ø§Ø¦Ø± ÙŠØ¶ØºØ· Ø¹Ù„Ù‰ Ø¥Ø¹Ù„Ø§Ù† Google
2. Referer = "https://googleadservices.com/..."
3. Ø§Ù„Ù†Ø¸Ø§Ù… ÙŠÙƒØªØ´Ù: "Ù‡Ø°Ø§ Ù…Ù† Google!" âœ…
4. ÙŠØ³ØªØ®Ø¯Ù… Ø¬Ø¯ÙˆÙ„ GOOGLE_WEIGHTED
5. Random = 0.1234
6. Ø§Ù„Ù†ØªÙŠØ¬Ø©: ÙŠØ°Ù‡Ø¨ Ù„Ù€ sales2 (ÙˆØ²Ù†Ù‡ 9.09%)
7. ÙŠØ³Ø¬Ù„ Ø§Ù„Ø²ÙŠØ§Ø±Ø© ÙÙŠ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
```

### Ù…Ø«Ø§Ù„ 2: Ø²Ø§Ø¦Ø± Ù…Ù† Facebook
```
1. Ø§Ù„Ø²Ø§Ø¦Ø± ÙŠØ¶ØºØ· Ø¹Ù„Ù‰ Ø¨ÙˆØ³Øª Facebook
2. Referer = "https://facebook.com/..."
3. Ø§Ù„Ù†Ø¸Ø§Ù… ÙŠÙƒØªØ´Ù: "Ù„ÙŠØ³ Ù…Ù† Google" âœ…
4. ÙŠØ³ØªØ®Ø¯Ù… Ø¬Ø¯ÙˆÙ„ OTHER_WEIGHTED
5. Random = 0.5678
6. Ø§Ù„Ù†ØªÙŠØ¬Ø©: ÙŠØ°Ù‡Ø¨ Ù„Ù€ sales6 (ÙˆØ²Ù†Ù‡ 9.09%)
7. ÙŠØ³Ø¬Ù„ Ø§Ù„Ø²ÙŠØ§Ø±Ø© ÙÙŠ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª
```

### Ù…Ø«Ø§Ù„ 3: Ø²Ø§Ø¦Ø± Ù…Ø¨Ø§Ø´Ø±
```
1. Ø§Ù„Ø²Ø§Ø¦Ø± ÙŠÙƒØªØ¨ Ø§Ù„Ø±Ø§Ø¨Ø· ÙÙŠ Ø§Ù„Ù…ØªØµÙØ­
2. Referer = "" (ÙØ§Ø±Øº)
3. Ø§Ù„Ù†Ø¸Ø§Ù…: "Ù„ÙŠØ³ Ù…Ù† Google"
4. ÙŠØ³ØªØ®Ø¯Ù… Ø¬Ø¯ÙˆÙ„ OTHER_WEIGHTED
5. Random = 0.8901
6. Ø§Ù„Ù†ØªÙŠØ¬Ø©: ÙŠØ°Ù‡Ø¨ Ù„Ù€ sales10
```

---

## ðŸŽ² ØªÙˆØ²ÙŠØ¹ Ø¹Ø´ÙˆØ§Ø¦ÙŠ Ù„ÙƒÙ† Ù…ØªÙˆØ§Ø²Ù†

### Ø§Ù„Ø³ÙŠÙ†Ø§Ø±ÙŠÙˆ: 1000 Ø²Ø§Ø¦Ø±

```
Ø¥Ø°Ø§ ÙƒØ§Ù†Øª Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£ÙˆØ²Ø§Ù† Ù…ØªØ³Ø§ÙˆÙŠØ© (9.09%):

sales1:  91 Ø²Ø§Ø¦Ø±   (9.09%)
sales2:  91 Ø²Ø§Ø¦Ø±   (9.09%)
sales3:  91 Ø²Ø§Ø¦Ø±   (9.09%)
sales4:  91 Ø²Ø§Ø¦Ø±   (9.09%)
sales5:  91 Ø²Ø§Ø¦Ø±   (9.09%)
sales6:  91 Ø²Ø§Ø¦Ø±   (9.09%)
sales7:  91 Ø²Ø§Ø¦Ø±   (9.09%)
sales8:  91 Ø²Ø§Ø¦Ø±   (9.09%)
sales9:  91 Ø²Ø§Ø¦Ø±   (9.09%)
sales10: 91 Ø²Ø§Ø¦Ø±   (9.09%)
sales11: 90 Ø²Ø§Ø¦Ø±   (9.01%)
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
Ø§Ù„Ø¥Ø¬Ù…Ø§Ù„ÙŠ: 1000 Ø²Ø§Ø¦Ø± (100%)
```

---

## ðŸ”§ API Ù„Ø¥Ø¯Ø§Ø±Ø© Ø§Ù„ØªÙˆØ²ÙŠØ¹

### 1. Ø¬Ù„Ø¨ Ø§Ù„Ù‚ÙˆØ§Ø¹Ø¯
```bash
GET /api/distribution/rules
```

**Response:**
```json
{
  "success": true,
  "rules": [
    {
      "salesPageId": "sales1",
      "googleWeight": 9.09,
      "otherWeight": 9.09,
      "isActive": true
    },
    // ...
  ]
}
```

### 2. ØªØ­Ø¯ÙŠØ« Ø§Ù„Ù‚ÙˆØ§Ø¹Ø¯
```bash
POST /api/distribution/rules
```

**Body:**
```json
{
  "rules": [
    {
      "path": "/sales1",
      "googleWeight": 15.0,
      "otherWeight": 10.0,
      "isActive": true
    }
    // ...
  ]
}
```

---

## ðŸ“ˆ ØªØªØ¨Ø¹ Ø§Ù„Ø²ÙŠØ§Ø±Ø§Øª

ÙƒÙ„ Ø²ÙŠØ§Ø±Ø© ØªÙØ³Ø¬Ù„ ÙÙŠ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª:

```sql
INSERT INTO Visit (
  ipAddress,
  country,
  city,
  targetPage,      -- Ø§Ù„ØµÙØ­Ø© Ø§Ù„ØªÙŠ ØªÙ… ØªÙˆØ¬ÙŠÙ‡Ù‡ Ø¥Ù„ÙŠÙ‡Ø§
  referer,
  utmSource,
  utmMedium,
  utmCampaign,
  isGoogle,        -- Ù‡Ù„ Ù…Ù† GoogleØŸ
  userAgent,
  timestamp
) VALUES (...)
```

---

## ðŸŽ¯ Ø§Ù„Ù…Ø²Ø§ÙŠØ§

### âœ… ØªÙˆØ²ÙŠØ¹ Ø¹Ø§Ø¯Ù„
- ÙƒÙ„ ØµÙØ­Ø© ØªØ­ØµÙ„ Ø¹Ù„Ù‰ Ù†ØµÙŠØ¨Ù‡Ø§ Ø­Ø³Ø¨ Ø§Ù„ÙˆØ²Ù† Ø§Ù„Ù…Ø­Ø¯Ø¯

### âœ… Ù…Ø±ÙˆÙ†Ø© ÙƒØ§Ù…Ù„Ø©
- ÙŠÙ…ÙƒÙ† ØªØ¹Ø¯ÙŠÙ„ Ø§Ù„Ø£ÙˆØ²Ø§Ù† ÙÙŠ Ø£ÙŠ ÙˆÙ‚Øª
- ØªØ¹Ø·ÙŠÙ„/ØªÙØ¹ÙŠÙ„ ØµÙØ­Ø§Øª Ù…Ø¹ÙŠÙ†Ø©

### âœ… ØªØªØ¨Ø¹ Ø¯Ù‚ÙŠÙ‚
- Ù…Ø¹Ø±ÙØ© Ù…Ù† Ø£ÙŠÙ† Ø¬Ø§Ø¡ ÙƒÙ„ Ø²Ø§Ø¦Ø±
- Ø¥Ø­ØµØ§Ø¦ÙŠØ§Øª Ù…ÙØµÙ„Ø© Ù„ÙƒÙ„ ØµÙØ­Ø©

### âœ… Ø«Ø¨Ø§Øª Ø§Ù„ØªØ¬Ø±Ø¨Ø©
- Ù†ÙØ³ Ø§Ù„Ø²Ø§Ø¦Ø± ÙŠØ±Ù‰ Ù†ÙØ³ Ø§Ù„ØµÙØ­Ø© Ø¯Ø§Ø¦Ù…Ø§Ù‹ (Ø®Ù„Ø§Ù„ 7 Ø£ÙŠØ§Ù…)

### âœ… ØªØ­ÙƒÙ… ÙÙŠ Ù…ØµØ§Ø¯Ø± Ø§Ù„Ø¥Ø¹Ù„Ø§Ù†Ø§Øª
- ØªÙˆØ²ÙŠØ¹ Ù…Ø®ØªÙ„Ù Ù„Ù€ Google vs Ù…ØµØ§Ø¯Ø± Ø£Ø®Ø±Ù‰
- ØªØ®ØµÙŠØµ Ø§Ù„Ù†Ø³Ø¨ Ø­Ø³Ø¨ Ø£Ø¯Ø§Ø¡ ÙƒÙ„ Ù…ØµØ¯Ø±

---

## ðŸš€ Ø­Ø§Ù„Ø§Øª Ø§Ø³ØªØ®Ø¯Ø§Ù… Ù…ØªÙ‚Ø¯Ù…Ø©

### 1. A/B Testing
```javascript
// Ø£Ø±ÙŠØ¯ Ø§Ø®ØªØ¨Ø§Ø± sales1 Ø¨Ù‚ÙˆØ©:
GOOGLE_WEIGHTED = [
  { path: '/sales1', weight: 50.0 },  // 50% Ù„Ù€ sales1
  { path: '/sales2', weight: 10.0 },
  // ... Ø¨Ø§Ù‚ÙŠ Ø§Ù„ØµÙØ­Ø§Øª 40%
]
```

### 2. ØªØ¹Ø·ÙŠÙ„ ØµÙØ­Ø© Ù…Ø¤Ù‚ØªØ§Ù‹
```javascript
// sales7 Ù‚ÙŠØ¯ Ø§Ù„ØµÙŠØ§Ù†Ø©:
{ path: '/sales7', weight: 0.0, isActive: false }
// ÙŠØªÙ… ØªÙˆØ²ÙŠØ¹ Ù†ØµÙŠØ¨Ù‡Ø§ Ø¹Ù„Ù‰ Ø§Ù„ØµÙØ­Ø§Øª Ø§Ù„Ø£Ø®Ø±Ù‰ ØªÙ„Ù‚Ø§Ø¦ÙŠØ§Ù‹
```

### 3. ØªØ±ÙƒÙŠØ² Ø¹Ù„Ù‰ Ù…ÙˆØ¸Ù Ù…Ø¹ÙŠÙ†
```javascript
// Ù…ÙˆØ¸Ù sales3 Ø£Ø¯Ø§Ø¤Ù‡ Ù…Ù…ØªØ§Ø²ØŒ Ù†Ø¹Ø·ÙŠÙ‡ Ø²ÙˆØ§Ø± Ø£ÙƒØ«Ø±:
{ path: '/sales3', weight: 20.0 }  // Ù…Ù† 9% Ø¥Ù„Ù‰ 20%
```

---

## ðŸ“Š Ø§Ù„Ù…Ù„Ø®Øµ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   /sales    â”‚  â† Ù†Ù‚Ø·Ø© Ø§Ù„Ø¯Ø®ÙˆÙ„
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â†“
   [ØªØ­Ù„ÙŠÙ„ Ø§Ù„Ù…ØµØ¯Ø±]
       â”‚
    â”Œâ”€â”€â”´â”€â”€â”
    â”‚     â”‚
Google?   Other?
    â”‚     â”‚
    â†“     â†“
 Ø¬Ø¯ÙˆÙ„ G  Ø¬Ø¯ÙˆÙ„ O
    â”‚     â”‚
    â””â”€â”€â”¬â”€â”€â”˜
       â”‚
       â†“
  [Ø§Ø®ØªÙŠØ§Ø± Ù…Ø±Ø¬Ø­]
       â”‚
       â†“
  [Ø­ÙØ¸ Cookie]
       â”‚
       â†“
 [ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø²ÙŠØ§Ø±Ø©]
       â”‚
       â†“
 /sales1 - /sales11
```

---

## ðŸŽ“ Ù…Ù„Ø®Øµ ØªÙ‚Ù†ÙŠ

1. **Entry Point**: `/sales`
2. **Detection**: ÙƒØ´Ù Google vs Other Ù…Ù† referer
3. **Selection**: Ø§Ø®ØªÙŠØ§Ø± Ù…Ø±Ø¬Ø­ Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Math.random()
4. **Persistence**: Ø­ÙØ¸ Ø§Ù„Ù‚ÙŠÙ…Ø© ÙÙŠ cookie Ù„Ù…Ø¯Ø© 7 Ø£ÙŠØ§Ù…
5. **Tracking**: ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø²ÙŠØ§Ø±Ø© ÙÙŠ DB
6. **Redirect**: Ø¥Ø¹Ø§Ø¯Ø© ØªÙˆØ¬ÙŠÙ‡ Ù„Ù„ØµÙØ­Ø© Ø§Ù„Ù…Ø®ØªØ§Ø±Ø©

---

**Ø§Ù„Ù†Ø¸Ø§Ù… ÙŠØ¶Ù…Ù† ØªÙˆØ²ÙŠØ¹ Ø¹Ø§Ø¯Ù„ ÙˆÙ…ØªÙˆØ§Ø²Ù† Ù…Ø¹ Ø¥Ù…ÙƒØ§Ù†ÙŠØ© Ø§Ù„ØªØ­ÙƒÙ… Ø§Ù„ÙƒØ§Ù…Ù„! ðŸŽ¯**
