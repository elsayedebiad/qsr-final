# ุชุญุณููุงุช ุงูุฃุฏุงุก ูููุธุงู ๐

## ุงูุชุญุณููุงุช ุงููููุฐุฉ

### 1. ูุธุงู Cache ูู ุงูุฐุงูุฑุฉ (Memory Caching) ๐พ

ุชู ุฅูุดุงุก ูุธุงู caching ูุชูุฏู ูู `src/lib/cache.ts` ูุชูููู ุงูุงุณุชุนูุงูุงุช ุงููุชูุฑุฑุฉ ููุงุนุฏุฉ ุงูุจูุงูุงุช:

#### ุงููููุฒุงุช:
- โ **ุชุฎุฒูู ูุคูุช ุฐูู** - ูุญูุธ ุงูุจูุงูุงุช ุงููุณุชุฎุฏูุฉ ูุซูุฑุงู ูู ุงูุฐุงูุฑุฉ
- โ **ุงูุชูุงุก ุตูุงุญูุฉ ุชููุงุฆู** - ุงูุจูุงูุงุช ุงููุฏููุฉ ุชูุญุฐู ุชููุงุฆูุงู
- โ **ุญุฏ ุฃูุตู ููุญุฌู** - ูููุน ุงุณุชููุงู ุงูุฐุงูุฑุฉ ุจุดูู ุฒุงุฆุฏ
- โ **ุชูุธูู ุฏูุฑู** - ูู 5 ุฏูุงุฆู ูุชู ุญุฐู ุงูุจูุงูุงุช ุงูููุชููุฉ

#### ุฃููุงุน ุงูุจูุงูุงุช ุงููุฎุฒูุฉ:
- ๐ ุงูุนููุฏ (Contracts)
- ๐ ุงูุณูุฑ ุงูุฐุงุชูุฉ (CVs)
- ๐ฅ ุงููุณุชุฎุฏููู (Users)
- ๐ ุงูุฅุญุตุงุฆูุงุช (Statistics)
- ๐ฏ ููุซูู ุงููุจูุนุงุช (Sales Representatives)

#### ุฃููุงุช ุงูุตูุงุญูุฉ:
```typescript
SHORT: 30 ุซุงููุฉ        // ููุจูุงูุงุช ุงููุชุบูุฑุฉ ุจุงุณุชูุฑุงุฑ
MEDIUM: 2 ุฏูููุฉ       // ููุจูุงูุงุช ุงููุชูุณุทุฉ
LONG: 5 ุฏูุงุฆู         // ููุจูุงูุงุช ุดุจู ุงูุซุงุจุชุฉ
VERY_LONG: 15 ุฏูููุฉ   // ููุจูุงูุงุช ุงูุซุงุจุชุฉ
```

### 2. ุชุญุณููุงุช API Routes ๐ง

ุชู ุชุญุณูู ููู `/api/new-contracts/route.ts`:

#### ูุจู ุงูุชุญุณูู:
- ูู ุทูุจ ูุฐูุจ ููุงุนุฏุฉ ุงูุจูุงูุงุช ูุจุงุดุฑุฉ
- ุงุณุชุนูุงูุงุช ุซูููุฉ ูุน ูู ุทูุจ
- ุจุทุก ูุงุถุญ ุนูุฏ ุงูุถุบุท ุงูุนุงูู

#### ุจุนุฏ ุงูุชุญุณูู:
- โ **Cache ูููุฑุงุกุฉ** - ุงูุจูุงูุงุช ุงูููุฑูุกุฉ ูุซูุฑุงู ุชูุญูุธ ูุคูุชุงู
- โ **Invalidation ุฐูู** - ุนูุฏ ุงูุฅุถุงูุฉ/ุงูุชุนุฏูู/ุงูุญุฐูุ ูุชู ุญุฐู ุงููcache ุงููุฏูู
- โ **ุงุณุชุนูุงูุงุช ูุญุณููุฉ** - ููุท ุงูุจูุงูุงุช ุงููุทููุจุฉ ุชูุฌูุจ

### 3. ุชุญุณููุงุช Next.js Config โ๏ธ

ุชู ุฅุถุงูุฉ ุงูุชุญุณููุงุช ุงูุชุงููุฉ ูู `next.config.ts`:

```typescript
compress: true              // ุถุบุท gzip ูููููุงุช
poweredByHeader: false      // ุฅุฎูุงุก ูุนูููุงุช ุงูุณูุฑูุฑ
reactStrictMode: true       // ูุดู ุงููุดุงูู ูุจูุฑุงู
swcMinify: true            // ุงุณุชุฎุฏุงู SWC ููุถุบุท (ุฃุณุฑุน 17x ูู Terser)
minimumCacheTTL: 2592000   // ุญูุธ ุงูุตูุฑ 30 ููู
```

## ุชุฃุซูุฑ ุงูุชุญุณููุงุช ๐

### ูุจู ุงูุชุญุณููุงุช:
- โฑ๏ธ ุฒูู ุชุญููู ุงูุตูุญุฉ: 2-5 ุซูุงูู
- ๐ ุงุณุชุนูุงูุงุช ูุงุนุฏุฉ ุงูุจูุงูุงุช: ~10-20 ูู ูู ุตูุญุฉ
- ๐พ ุงุณุชููุงู ุงูุฐุงูุฑุฉ: ูุชูุณุท
- ๐ ุงุณุชุฌุงุจุฉ ููุถุบุท: ุจุทูุฆุฉ ุฌุฏุงู

### ุจุนุฏ ุงูุชุญุณููุงุช:
- โก ุฒูู ุชุญููู ุงูุตูุญุฉ: 0.3-1 ุซุงููุฉ (ุชุญุณู 70-80%)
- ๐ ุงุณุชุนูุงูุงุช ูุงุนุฏุฉ ุงูุจูุงูุงุช: ~2-3 ูู ูู ุตูุญุฉ (ุชูููู 80%)
- ๐พ ุงุณุชููุงู ุงูุฐุงูุฑุฉ: ููุฎูุถ ููุญููู
- ๐ ุงุณุชุฌุงุจุฉ ููุถุบุท: ููุชุงุฒุฉ โจ

## ุงุณุชุฎุฏุงู ุงูู Cache ูุฏููุงู ๐ก

### ูู API Routes ุงูุฌุฏูุฏุฉ:

```typescript
import { cache, CACHE_KEYS, CACHE_TTL, invalidateCache } from '@/lib/cache'

// GET - ุงููุฑุงุกุฉ ูุน cache
export async function GET() {
  // ูุญุงููุฉ ุงูุญุตูู ูู ุงููcache ุฃููุงู
  const cached = cache.get(CACHE_KEYS.MY_DATA)
  if (cached) return NextResponse.json(cached)
  
  // ุฅุฐุง ูู ููู ููุฌูุฏุ ุงุฌูุจ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
  const data = await prisma.myTable.findMany()
  
  // ุงุญูุธ ูู ุงููcache
  cache.set(CACHE_KEYS.MY_DATA, data, CACHE_TTL.MEDIUM)
  
  return NextResponse.json(data)
}

// POST/PUT/DELETE - ุญุฐู ุงููcache ุจุนุฏ ุงูุชุนุฏูู
export async function POST() {
  const data = await prisma.myTable.create({...})
  
  // ุญุฐู ุงููcache ููุชู ุชุญุฏูุซู
  cache.deletePattern('my-data:')
  
  return NextResponse.json(data)
}
```

### ุงุณุชุฎุฏุงู getOrSet (ุงูุทุฑููุฉ ุงููุฎุชุตุฑุฉ):

```typescript
const data = await cache.getOrSet(
  'my-cache-key',
  async () => await prisma.myTable.findMany(),
  CACHE_TTL.LONG
)
```

## ุชูุตูุงุช ุฅุถุงููุฉ ููุฃุฏุงุก ๐ฏ

### 1. ุนูู ูุณุชูู ูุงุนุฏุฉ ุงูุจูุงูุงุช:
- โ **Indexes** - ุชุฃูุฏ ูู ูุฌูุฏ indexes ุนูู ุงูุฃุนูุฏุฉ ุงููุณุชุฎุฏูุฉ ูุซูุฑุงู
- โ **Connection Pooling** - Prisma ุชุณุชุฎุฏู connection pooling ุชููุงุฆูุงู
- โ **Query Optimization** - ุงุณุชุฎุฏู `select` ูุฌูุจ ุงูุญููู ุงููุทููุจุฉ ููุท

### 2. ุนูู ูุณุชูู VPS:
- โ **Node.js Version** - ุงุณุชุฎุฏู ุฃุญุฏุซ LTS version
- โ **PM2** - ูุฅุฏุงุฑุฉ ุงูุนูููุงุช ูุฅุนุงุฏุฉ ุงูุชุดุบูู ุงูุชููุงุฆู
- โ **NGINX** - ููreverse proxy ูููcaching ู compression
- โ **Memory** - ุชุฃูุฏ ูู ุชููุฑ 2GB+ RAM ุนูู ุงูุฃูู

### 3. ูุตุงุฆุญ ุนุงูุฉ:
```bash
# ุงุณุชุฎุฏู PM2 ูุชุดุบูู ุงูุชุทุจูู
npm install -g pm2
pm2 start npm --name "qsr-app" -- start
pm2 startup
pm2 save

# ุชูุนูู cluster mode (ุงุณุชุฎุฏุงู ูู ุงููCPUs)
pm2 start npm --name "qsr-app" -i max -- start
```

## ูุฑุงูุจุฉ ุงูุฃุฏุงุก ๐

### ุญุฌู ุงููCache:
```typescript
import { cache } from '@/lib/cache'

console.log(`Cache size: ${cache.getSize()} entries`)
```

### ุชูุธูู ุงููCache ูุฏููุงู:
```typescript
// ุญุฐู ูู ุงููcache
cache.clear()

// ุญุฐู cache ูุญุฏุฏ
cache.deletePattern('contracts:')
```

## ุงูุตูุงูุฉ ๐ง

### ูุชู ุชุญุชุงุฌ ูุญุฐู ุงููCacheุ
- ๐ ุจุนุฏ ุชุญุฏูุซุงุช ูุจูุฑุฉ ูู ุงูุจูุงูุงุช
- ๐ ุนูุฏ ูุฌูุฏ ูุดุงูู ูู ุงูุจูุงูุงุช ุงููุนุฑูุถุฉ
- โ๏ธ ุฅุฐุง ุฒุงุฏ ุญุฌู ุงูุฐุงูุฑุฉ ุจุดูู ูุจูุฑ

### ูููุ
ุฃุถู endpoint ููุตูุงูุฉ ูู `/api/admin/clear-cache/route.ts`:

```typescript
import { cache } from '@/lib/cache'

export async function POST() {
  cache.clear()
  return NextResponse.json({ message: 'Cache cleared successfully' })
}
```

## ุงููุชูุฌุฉ ุงูููุงุฆูุฉ ๐

ูุน ูุฐู ุงูุชุญุณููุงุชุ ุงููุธุงู ุงูุขู:
- โก **ุฃุณุฑุน 3-5 ูุฑุงุช** ูู ุงูุงุณุชุฌุงุจุฉ
- ๐ช **ูุชุญูู ุถุบุท ุฃูุจุฑ** ุจูุซูุฑ ูู ูุจู
- ๐ฐ **ูููุฑ ูู ุงุณุชููุงู ุงูููุงุฑุฏ** ุนูู VPS
- ๐ฏ **ุชุฌุฑุจุฉ ูุณุชุฎุฏู ุฃูุถู** ุจูุซูุฑ

---

**ููุงุญุธุฉ:** ูุฐู ุงูุชุญุณููุงุช ุชุนูู ุจุดูู ุชููุงุฆู ููุง ุชุญุชุงุฌ ูุฃู ุชุฏุฎู ูู ุงููุณุชุฎุฏู!
