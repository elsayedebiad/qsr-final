# دليل استخدام الكورسل الثانوي في صفحة Sales 1

## نظرة عامة
تم تطبيق نظام كورسل ثانوي في صفحة Sales 1 يمكن تخصيصه من خلال لوحة التحكم. النظام يتكون من:

1. **الكورسل الثانوي** - يظهر في الأعلى
2. **الكورسل الرئيسي** - يظهر في الأسفل

كلا الكورسلين يستخدمان نفس المكون (`SimpleImageCarousel`) لضمان التطابق في التصميم والوظائف.

## كيفية إدارة البنرات الثانوية

### 1. الوصول لصفحة الإدارة
- اذهب إلى الداشبورد
- من القائمة الجانبية، اختر "صفحات المبيعات"
- اختر "البنرات الإضافية"

### 2. إضافة بنرات جديدة
1. اختر صفحة المبيعات المطلوبة (Sales 1, Sales 2, إلخ)
2. اضغط على "إضافة بنر جديد"
3. اختر نوع الجهاز (Desktop أو Mobile)
4. ارفع الصورة (JPG, PNG, WebP, GIF - حد أقصى 5 ميجابايت)
5. حدد ترتيب البنر
6. اضغط "إضافة"

### 3. إدارة البنرات الموجودة
- **تعديل**: اضغط على أيقونة التعديل
- **حذف**: اضغط على أيقونة الحذف
- **تفعيل/إلغاء تفعيل**: اضغط على أيقونة العين
- **ترتيب**: استخدم أزرار السهم لأعلى/أسفل

## الميزات

### الكورسل الثانوي
- يظهر في أعلى صفحة Sales 1
- يدعم Auto-play (4 ثواني)
- يدعم التنقل اليدوي
- يدعم عرض مختلف للـ Desktop والـ Mobile
- يمكن تخصيصه من لوحة التحكم
- **العرض الكامل المتاح** مع `w-full`
- **الطول يتكيف مع الصورة** مع `h-auto`
- **عرض كامل للصورة** مع `object-contain` (لا يتم قطع أجزاء من الصورة)
- **جودة عالية** للصور مع `imageRendering: 'high-quality'`
- **Padding مناسب** (px-4 على الموبايل، px-6 على الديسكتوب)
- **أسهم شفافة** مع تأثير الزجاج (`backdrop-blur-md`) تظهر الصورة خلفها
- **مؤشرات نقاط شفافة** مع تأثير الزجاج للتنقل

### الكورسل الرئيسي
- يظهر أسفل الكورسل الثانوي
- يستخدم نفس التصميم والوظائف
- يدعم Auto-play (4 ثواني)
- يدعم التنقل اليدوي
- **نفس الحجم** مع الكورسل الثانوي (h-32 على الموبايل، h-40 على الديسكتوب)
- **جودة عالية** للصور مع `imageRendering: 'high-quality'`
- **Padding مناسب** (px-4 على الموبايل، px-6 على الديسكتوب)
- **أسهم شفافة** مع تأثير الزجاج (`backdrop-blur-md`) تظهر الصورة خلفها
- **مؤشرات نقاط شفافة** مع تأثير الزجاج للتنقل

## التقنيات المستخدمة

### قاعدة البيانات
- جدول `banners` مع حقل `bannerType`
- `MAIN` للبنرات الرئيسية
- `SECONDARY` للبنرات الثانوية

### API Endpoints
- `GET /api/secondary-banners` - جلب البنرات الثانوية
- `POST /api/secondary-banners` - إضافة بنر ثانوي
- `PUT /api/secondary-banners` - تحديث بنر ثانوي
- `DELETE /api/secondary-banners` - حذف بنر ثانوي

### المكونات
- `SimpleImageCarousel` - مكون الكورسل الموحد
- `SecondaryBannersPage` - صفحة إدارة البنرات الثانوية

## الصلاحيات
- الوصول لصفحة إدارة البنرات الثانوية مقتصر على المدراء فقط (`adminOnly: true`)

## تخصيص العرض والارتفاع

### عرض الكورسل
الكورسل يأخذ العرض المتاح كله تلقائياً مع `w-full`. يمكنك تخصيص العرض من خلال:

```tsx
<div className="mb-6 px-4 md:px-6"> {/* يمكن تعديل px-4 md:px-6 */}
  <SimpleImageCarousel
    desktopImages={secondaryDesktopBanners}
    mobileImages={secondaryMobileBanners}
    autoPlay={true}
    autoPlayInterval={4000}
    className="" // يمكن إضافة classes للعرض
  />
</div>
```

### ارتفاع الصور
الارتفاع يتكيف تلقائياً مع الصورة المضافة مع `h-auto`. الصور تُعرض كاملة بدون قطع مع `object-contain`.

### خيارات العرض:
- `w-full` - العرض الكامل (افتراضي)
- `w-3/4` - ثلاثة أرباع العرض
- `w-1/2` - نصف العرض
- `max-w-md` - عرض أقصى متوسط
- `max-w-lg` - عرض أقصى كبير

## تأثير الزجاج (Glass Effect)

### الأسهم على الأطراف
الأسهم موضوعة على الأطراف مع تصميم جديد:
- **موضع الأطراف** - `left-0` و `right-0` للأسهم
- **تدرج لوني** - `bg-gradient-to-r` و `bg-gradient-to-l`
- **شكل نصف دائري** - `rounded-r-full` و `rounded-l-full`
- **حجم أكبر** - `p-3 md:p-4` للراحة في الاستخدام
- **أيقونات أكبر** - `w-5 h-5 md:w-6 md:h-6`
- **تأثير hover** - تدرج أغمق عند التمرير

### مؤشرات النقاط الزرقاء
مؤشرات التنقل بلون أزرق متناسق:
- `bg-blue-600/30` - خلفية زرقاء شفافة 30% للنقاط غير النشطة
- `bg-blue-600/70` - خلفية زرقاء شفافة 70% للنقطة النشطة
- `backdrop-blur-md` - تأثير ضبابية متوسط
- **بدون حدود** - تصميم نظيف
- `boxShadow` مخصص - ظلال زرقاء متدرجة حسب الحالة

## التحسينات الجديدة

### إزالة البوردر الأسود
- **لا توجد حدود سوداء** - تصميم نظيف وحديث
- **ظلال مخصصة** - `boxShadow` مع تأثيرات متقدمة
- **highlight داخلي** - `inset` للأسهم لإضافة عمق

### تحسينات الكورسل
- **زوايا أكثر نعومة** - `rounded-2xl` بدلاً من `rounded-xl`
- **ظلال عميقة** - `shadow-2xl` مع ظلال مخصصة
- **تأثيرات متقدمة** - `backdrop-blur-lg` للأسهم

### الألوان والشفافية
- **لون أزرق جميل** - `blue-600` للأسهم والنقاط
- **شفافية متدرجة** - من 20% إلى 30% للأسهم عند التمرير
- **ظلال زرقاء** - ظلال متناسقة مع اللون الأزرق
- **تدرج متناسق** - نفس اللون للأسهم والنقاط

## التصميم الجديد للأسهم

### موضع الأطراف
- **السهم الأيسر**: `left-0` - ملتصق بالحافة اليسرى
- **السهم الأيمن**: `right-0` - ملتصق بالحافة اليمنى
- **شكل نصف دائري**: `rounded-r-full` للسهم الأيسر، `rounded-l-full` للسهم الأيمن

### التدرج اللوني
- **السهم الأيسر**: `bg-gradient-to-r from-blue-600 to-blue-500`
- **السهم الأيمن**: `bg-gradient-to-l from-blue-600 to-blue-500`
- **عند التمرير**: تدرج أغمق `from-blue-700 to-blue-600`

### الحجم والراحة
- **حجم أكبر**: `p-3 md:p-4` للراحة في الاستخدام
- **أيقونات أكبر**: `w-5 h-5 md:w-6 md:h-6` للوضوح
- **تأثير hover**: `hover:scale-105` بدلاً من `scale-110`

## ملاحظات مهمة
1. البنرات تُحفظ كـ Base64 في قاعدة البيانات
2. يدعم ضغط الصور تلقائياً
3. التحقق من نوع وحجم الملفات
4. دعم الترتيب المخصص للبنرات
5. إمكانية تفعيل/إلغاء تفعيل البنرات
6. **الكورسلان لهما نفس الحجم دائماً** لضمان التناسق

## استكشاف الأخطاء
- إذا لم تظهر البنرات، تأكد من تفعيلها في لوحة التحكم
- تأكد من رفع صور بصيغ مدعومة
- تحقق من حجم الصور (حد أقصى 5 ميجابايت)
- تأكد من وجود بنرات للجهاز المطلوب (Desktop/Mobile)
