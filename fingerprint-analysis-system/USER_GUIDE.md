# 📘 دليل المستخدم التفصيلي
## نظام تحليل الحضور المتقدم | HR Portal v2.0

---

## 📋 جدول المحتويات

1. [مقدمة](#مقدمة)
2. [البدء السريع](#البدء-السريع)
3. [واجهة المستخدم](#واجهة-المستخدم)
4. [رفع ومعالجة البيانات](#رفع-ومعالجة-البيانات)
5. [لوحة القيادة](#لوحة-القيادة)
6. [التقارير اليومية](#التقارير-اليومية)
7. [الرسوم البيانية](#الرسوم-البيانية)
8. [إدارة الموظفين](#إدارة-الموظفين)
9. [التصدير والطباعة](#التصدير-والطباعة)
10. [الذكاء الاصطناعي](#الذكاء-الاصطناعي)
11. [نصائح وحيل](#نصائح-وحيل)

---

## مقدمة

مرحباً بك في **HR Portal v2.0** - نظام تحليل الحضور الأكثر تقدماً وسهولة في الاستخدام!

### ماذا يفعل هذا النظام؟

يقوم النظام بتحليل سجلات حضور الموظفين (البصمة) ويوفر:
- ✅ حساب صافي ساعات العمل (بعد خصم الاستراحة)
- ✅ مقارنة الأداء بالهدف اليومي (KPI)
- ✅ تقارير يومية وشهرية مفصلة
- ✅ رسوم بيانية تفاعلية
- ✅ تحليل الأداء بالذكاء الاصطناعي
- ✅ تصدير البيانات بصيغ متعددة

---

## البدء السريع

### الخطوة 1: فتح التطبيق
ببساطة، افتح ملف `index.html` في متصفح الويب المفضل لديك.

### الخطوة 2: رفع ملف الحضور
1. في القائمة الجانبية، انقر على **"رفع ملف الحضور"**
2. اختر ملف البصمة من جهازك
3. انتظر رسالة التأكيد

### الخطوة 3: ضبط الإعدادات
- **مدة الاستراحة:** أدخل مدة استراحة الموظفين بالدقائق (مثال: 60)
- **الهدف اليومي:** أدخل عدد ساعات العمل المستهدفة (مثال: 8)

### الخطوة 4: بدء التحليل
انقر على زر **"بدء التحليل"** وسيتم معالجة البيانات تلقائياً!

---

## واجهة المستخدم

### القائمة الجانبية (Sidebar)

تحتوي القائمة الجانبية على:

1. **لوحة القيادة والملخص**
   - الصفحة الرئيسية
   - عرض الإحصائيات العامة

2. **التقرير اليومي المفصل**
   - جدول تفصيلي بكل السجلات
   - تصفية متقدمة

3. **الرسوم البيانية والإحصائيات**
   - رسوم بيانية تفاعلية
   - تحليل بصري

4. **إدارة الموظفين**
   - إضافة وتعديل أسماء الموظفين

5. **الإعدادات والتحليل**
   - رفع الملفات
   - ضبط المعايير
   - أزرار التحكم

---

## رفع ومعالجة البيانات

### صيغ الملفات المدعومة

النظام يدعم الصيغ التالية:
- `.dat` - صيغة ملفات البصمة التقليدية
- `.txt` - ملفات نصية
- `.csv` - ملفات CSV

### صيغة البيانات المتوقعة

**ملف .dat أو .txt (مفصول بـ Tab):**
```
1    2024-01-15 08:30:00
1    2024-01-15 17:00:00
2    2024-01-15 09:00:00
```

**ملف .csv:**
```csv
Employee_ID,Timestamp
1,2024-01-15 08:30:00
1,2024-01-15 17:00:00
```

### كيف يتم الحساب؟

1. **تجميع السجلات:** يتم تجميع سجلات كل موظف حسب التاريخ
2. **تحديد أول دخول وآخر خروج:** أقدم وقت = دخول، أحدث وقت = خروج
3. **حساب الإجمالي:** الفرق بين الدخول والخروج
4. **خصم الاستراحة:** الإجمالي - مدة الاستراحة = صافي العمل
5. **مقارنة بالهدف:** صافي العمل - الهدف اليومي = الفارق

---

## لوحة القيادة

### البطاقات الإحصائية

#### 1. إجمالي الموظفين
- عدد الموظفين الذين لديهم سجلات حضور

#### 2. إجمالي أيام العمل المُحللة
- إجمالي الأيام التي تم فيها تسجيل دخول وخروج كامل

#### 3. متوسط العمل اليومي (للمنشأة)
- متوسط صافي ساعات العمل لجميع الموظفين والأيام

### التصفية حسب الشهر والسنة

يمكنك تصفية البيانات:
- اختر **السنة** من القائمة المنسدلة
- اختر **الشهر** من القائمة المنسدلة
- سيتم تحديث جميع البيانات والرسوم البيانية تلقائياً

### ملخص الأداء الشهري

**لعرض ملخص موظف معين:**
1. اختر الموظف من القائمة المنسدلة
2. سيظهر:
   - إجمالي صافي العمل (ساعات ودقائق)
   - عدد أيام العمل (بسجل كامل)
   - متوسط صافي العمل اليومي
   - تنبيه إذا كان هناك أيام بسجل واحد فقط

**ميزة الذكاء الاصطناعي:**
- انقر على **"تحليل الأداء بالذكاء الاصطناعي"**
- سيقوم Gemini بتحليل أداء الموظف وتقديم توصيات

---

## التقارير اليومية

### الجدول التفصيلي

يعرض الجدول:
- **ID:** رقم الموظف
- **اسم الموظف:** الاسم المُسجل
- **التاريخ:** تاريخ الحضور
- **أول دخول:** أول وقت تسجيل في اليوم
- **آخر خروج:** آخر وقت تسجيل في اليوم
- **صافي ساعات العمل:** بعد خصم الاستراحة
- **الفارق عن الهدف (KPI):** الفرق بين الصافي والهدف اليومي

### الألوان والمؤشرات

- 🟢 **أخضر:** محقق للهدف أو أكثر
- 🔴 **أحمر:** أقل من الهدف
- ⚠️ **تنبيه "سجل واحد":** تم تسجيل دخول فقط أو خروج فقط

### التصفية المتقدمة

#### تصفية حسب الموظف
1. اختر موظفاً من قائمة **"تصفية حسب ID الموظف"**
2. سيتم عرض سجلاته فقط
3. سيظهر **إجمالي ساعاته الشهرية** في أعلى الجدول

#### تصفية حسب التاريخ
1. اختر تاريخاً من حقل **"تصفية حسب التاريخ"**
2. سيتم عرض سجلات هذا التاريخ فقط

#### إلغاء التصفية
- اختر "عرض جميع الموظفين" أو امسح حقل التاريخ

---

## الرسوم البيانية

### 1. توزيع ساعات العمل حسب الموظف

**رسم بياني عمودي (Bar Chart)**
- يعرض أفضل 10 موظفين من حيث إجمالي ساعات العمل
- ألوان متدرجة جذابة
- يتحدث عند التمرير بالماوس

### 2. الالتزام بالهدف اليومي

**مخطط دائري (Doughnut Chart)**
- يعرض نسبة الأيام التي تم فيها تحقيق الهدف
- 🟢 محقق للهدف
- 🔴 أقل من الهدف

### 3. اتجاه الحضور عبر الزمن

**رسم بياني خطي (Line Chart)**
- يعرض متوسط ساعات العمل اليومية عبر الزمن
- يساعد في رؤية الاتجاهات والأنماط
- تصميم سلس ومتدرج

---

## إدارة الموظفين

### إضافة موظف جديد

1. انتقل إلى **"إدارة الموظفين"** من القائمة الجانبية
2. أدخل **رقم ID الموظف**
3. أدخل **اسم الموظف**
4. انقر على **"حفظ الموظف"**

### تعديل بيانات موظف

1. في قائمة الموظفين، انقر على أيقونة **"تعديل" (✏️)**
2. سيتم ملء الحقول تلقائياً
3. عدّل الاسم
4. انقر على **"حفظ الموظف"**

### حذف موظف

1. انقر على أيقونة **"حذف" (🗑️)**
2. أكّد عملية الحذف

**ملاحظة:** حذف الموظف من القائمة لن يحذف سجلات حضوره، فقط اسمه.

---

## التصدير والطباعة

### تصدير إلى CSV

**الاستخدام:**
- انقر على زر **"تصدير CSV"**
- سيتم تحميل ملف CSV يحتوي على البيانات المُفلترة حالياً

**مناسب لـ:**
- فتح البيانات في Excel
- معالجة البيانات في Google Sheets
- الاستيراد في أنظمة أخرى

### تصدير إلى Excel

**الاستخدام:**
- انقر على زر **"تصدير Excel"**
- سيتم تحميل ملف .xlsx جاهز

**مميزات:**
- تنسيق جدول احترافي
- عرض أعمدة مناسب
- جاهز للطباعة

### تصدير إلى PDF

**الاستخدام:**
- انقر على زر **"تصدير PDF"**
- سيتم إنشاء ملف PDF احترافي

**مميزات:**
- تصميم احترافي
- جدول منظم
- ترويسة وتذييل

### الطباعة المباشرة

**الاستخدام:**
- انقر على زر **"طباعة"**
- سيتم فتح نافذة الطباعة

**ملاحظة:** عند الطباعة:
- ستختفي القائمة الجانبية تلقائياً
- سيتم تحسين الجدول للطباعة
- ستظهر ترويسة احترافية

---

## الذكاء الاصطناعي

### إعداد Gemini API

**الخطوة 1: الحصول على API Key**
1. اذهب إلى [Google AI Studio](https://makersuite.google.com/app/apikey)
2. سجّل الدخول بحساب Google
3. انقر على **"Create API Key"**
4. انسخ المفتاح

**الخطوة 2: إضافة المفتاح في التطبيق**
1. افتح ملف `js/config.js`
2. ابحث عن السطر:
```javascript
GEMINI_API_KEY: "",
```
3. أضف المفتاح:
```javascript
GEMINI_API_KEY: "YOUR_API_KEY_HERE",
```
4. احفظ الملف

### استخدام تحليل الأداء

1. في **لوحة القيادة**، اختر موظفاً من **"ملخص الأداء الشهري"**
2. انقر على زر **"تحليل الأداء بالذكاء الاصطناعي"**
3. انتظر قليلاً (5-10 ثوانٍ)
4. سيظهر تحليل مفصل يتضمن:
   - تقييم عام للأداء
   - نقاط القوة
   - نقاط التحسين
   - توصيات للإدارة

---

## نصائح وحيل

### 💡 نصيحة 1: الحفظ التلقائي
- النظام يحفظ بياناتك تلقائياً كل 30 ثانية
- لا تقلق من فقدان البيانات عند إغلاق المتصفح

### 💡 نصيحة 2: التصفية السريعة
- استخدم اختصارات لوحة المفاتيح:
  - `Ctrl + P`: طباعة سريعة
  - `Ctrl + S`: حفظ الصفحة

### 💡 نصيحة 3: البحث في الجدول
- استخدم `Ctrl + F` للبحث عن موظف أو تاريخ معين في الصفحة

### 💡 نصيحة 4: تحديث البيانات
- إذا قمت بتعديل أسماء الموظفين، انقر على **"بدء التحليل"** مرة أخرى لتحديث النتائج

### 💡 نصيحة 5: مشاركة التقارير
- صدّر إلى PDF للمشاركة عبر البريد الإلكتروني
- صدّر إلى Excel للمعالجة المتقدمة

### 💡 نصيحة 6: السجلات غير الكاملة
- إذا ظهرت رسالة **"سجل واحد فقط"**، هذا يعني أن الموظف نسي التسجيل عند الدخول أو الخروج
- راجع هذه السجلات يدوياً

---

## الأسئلة الشائعة (FAQ)

### س: ما هي صيغة ملف الحضور المطلوبة؟
**ج:** النظام يدعم `.dat`, `.txt`, `.csv` مع بيانات بصيغة: `ID   التاريخ والوقت`

### س: هل يمكنني استخدام النظام بدون إنترنت؟
**ج:** نعم! النظام يعمل بالكامل دون إنترنت، باستثناء ميزة الذكاء الاصطناعي.

### س: أين يتم حفظ بياناتي؟
**ج:** جميع البيانات تُحفظ محلياً في متصفحك (localStorage) ولا تُرسل لأي خادم خارجي.

### س: هل النظام آمن؟
**ج:** نعم، جميع البيانات محلية على جهازك فقط.

### س: كيف أحذف جميع البيانات؟
**ج:** انقر على زر **"مسح البيانات"** في القائمة الجانبية.

### س: هل يمكن تخصيص التصميم؟
**ج:** نعم، يمكنك تعديل ملف `css/styles.css` و `js/config.js` لتخصيص الألوان والتصميم.

---

## الدعم الفني

**إذا واجهت أي مشكلة:**
1. راجع قسم [المشاكل الشائعة](README.md#المشاكل-الشائعة-والحلول) في README
2. افتح Issue على GitHub
3. راسلنا على: support@hrportal.com

---

## خاتمة

نشكرك لاستخدام **HR Portal v2.0**! نأمل أن يساعدك هذا النظام في تحسين إدارة الحضور في منشأتك.

**لا تنسَ:**
- ⭐ إعطاء النجمة على GitHub إذا أعجبك المشروع
- 📢 مشاركة المشروع مع زملائك
- 💬 إرسال ملاحظاتك واقتراحاتك

---

**صُنع بـ ❤️ للموارد البشرية في كل مكان**

© 2024 HR Portal. جميع الحقوق محفوظة.

