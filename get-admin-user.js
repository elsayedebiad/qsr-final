const { PrismaClient } = require('@prisma/client');
const prisma = new PrismaClient();

async function getAdminUser() {
  try {
    // Ø§Ù„Ø¨Ø­Ø« Ø¹Ù† Ø£ÙˆÙ„ Ù…Ø³ØªØ®Ø¯Ù…
    const firstUser = await prisma.user.findFirst();
    
    if (firstUser) {
      console.log('âœ… ØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ù…Ø³ØªØ®Ø¯Ù…:');
      console.log(`   ID: ${firstUser.id}`);
      console.log(`   Email: ${firstUser.email}`);
      console.log(`   Name: ${firstUser.name}`);
      console.log('\nØ§Ø³ØªØ®Ø¯Ù… Ù‡Ø°Ø§ Ø§Ù„Ù…Ø¹Ø±Ù ÙÙŠ Ø§Ù„Ø§Ø³ØªÙŠØ±Ø§Ø¯: ', firstUser.id);
    } else {
      console.log('âŒ Ù„Ø§ ÙŠÙˆØ¬Ø¯ Ù…Ø³ØªØ®Ø¯Ù…ÙŠÙ† ÙÙŠ Ù‚Ø§Ø¹Ø¯Ø© Ø§Ù„Ø¨ÙŠØ§Ù†Ø§Øª');
      console.log('ÙŠØ¬Ø¨ Ø¥Ù†Ø´Ø§Ø¡ Ù…Ø³ØªØ®Ø¯Ù… Ø£ÙˆÙ„Ø§Ù‹');
      
      // Ø¥Ù†Ø´Ø§Ø¡ Ù…Ø³ØªØ®Ø¯Ù… Ø§ÙØªØ±Ø§Ø¶ÙŠ
      console.log('\nğŸ“ Ø¥Ù†Ø´Ø§Ø¡ Ù…Ø³ØªØ®Ø¯Ù… Ø§ÙØªØ±Ø§Ø¶ÙŠ Ù„Ù„Ø§Ø³ØªÙŠØ±Ø§Ø¯...');
      
      const defaultUser = await prisma.user.create({
        data: {
          email: 'admin@qsr.sa',
          name: 'Ù…Ø¯ÙŠØ± Ø§Ù„Ù†Ø¸Ø§Ù…',
          password: 'admin123', // ÙÙŠ Ø§Ù„Ø¥Ù†ØªØ§Ø¬ ÙŠØ¬Ø¨ ØªØ´ÙÙŠØ± ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±
          role: 'ADMIN'
        }
      });
      
      console.log('âœ… ØªÙ… Ø¥Ù†Ø´Ø§Ø¡ Ù…Ø³ØªØ®Ø¯Ù… Ø§ÙØªØ±Ø§Ø¶ÙŠ:');
      console.log(`   ID: ${defaultUser.id}`);
      console.log(`   Email: ${defaultUser.email}`);
      console.log('\nØ§Ø³ØªØ®Ø¯Ù… Ù‡Ø°Ø§ Ø§Ù„Ù…Ø¹Ø±Ù ÙÙŠ Ø§Ù„Ø§Ø³ØªÙŠØ±Ø§Ø¯: ', defaultUser.id);
    }
    
  } catch (error) {
    console.error('âŒ Ø®Ø·Ø£:', error.message);
  } finally {
    await prisma.$disconnect();
  }
}

getAdminUser();
